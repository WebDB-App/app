<ng-container [formGroup]="form">
	<div cdkDrag cdkDragHandle
		 cdkDragRootElement=".cdk-overlay-pane"
		 mat-dialog-title>
		<div>
			<h3>New view</h3>
		</div>

		<button aria-label="close dialog" mat-dialog-close mat-icon-button>
			<span class="material-symbols-outlined notranslate">close</span>
		</button>
	</div>

	<mat-dialog-content style="display: flex; flex-direction: column">
		<mat-form-field appearance="fill" style="padding: 20px 20px 0px 20px; width: 300px">
			<mat-label>View Name</mat-label>
			<input
				autocomplete="off"
				formControlName="name"
				matInput>
			@if (form.get('name')?.errors && form.get('name')!.errors!['pattern']) {
				<mat-error>
					Prefer alpha, numeric and "_", "-" with 2 min chars
				</mat-error>
			}
			@if (form.get('name')?.errors && form.get('name')!.errors!['unique']) {
				<mat-error>
					Name already used
				</mat-error>
			}
		</mat-form-field>
	</mat-dialog-content>

	<mat-dialog-actions>
		<button (click)="create()"
				[disabled]="!form.valid"
				color="primary"
				mat-flat-button>
			<span class="material-symbols-outlined notranslate">
				table_view
			</span>
			Create view
		</button>
	</mat-dialog-actions>
</ng-container>

